@model NTTShopAdmin.Models.ManagementUser
@{
    ViewBag.Title = "CambiarContra";
}

<h2>Cambiar Contraseña</h2>


@using (Html.BeginForm("CambiarContra", "UsuarioAdmin", FormMethod.Post))
{
    <div class="row justify-content-center">
        <div class="col-md-4">
            <h2 class="text-center">Cambiar Contraseña</h2>
            <hr />
            @Html.AntiForgeryToken()
            @Html.ValidationSummary(true)
            @if (@ViewBag.Message != null)
            {
                <div style="border: 1px solid red">
                    @ViewBag.Message
                </div>
            }
            <div class="form-group">
                <label class="form-label fw-bold">Usuario:</label> <br />
                @Html.TextBoxFor(a => a.inicio, new { @class = "form-control", @disabled = "disabled" })
                @Html.ValidationMessageFor(a => a.inicio)
                @Html.HiddenFor(a => a.inicio)
            </div>
            <div class="form-group">
                <label class="form-label fw-bold">Contraseña:</label><br />
                @Html.PasswordFor(a => a.contrasenya, new { @class = "form-control" })
                @Html.ValidationMessageFor(a => a.contrasenya, "", new {@class="text-danger"})
            </div>
            @if (ViewData["errorMensaje"] != null)
            {
                <p class="alert alert-danger" style="margin-top:10px;">@ViewData["errorMensaje"]</p>
            }
            <div class="col-12 d-grid" style="margin-top:10px;">
                <input type="submit" value="Actualizar Contraseña" class="btn btn-outline-secondary" />
            </div>
            <div class="col-12 d-grid" style="margin-top:10px;">
                @Html.ActionLink("Volver a Editar Administrador", "Editar", "UsuarioAdmin", new { @id = Model.idUsuario }, new { @class = "btn btn-outline-secondary" })
            </div>
            @if (ViewBag.Correcto is true)
            {
                <p class="alert alert-success">Contraseña Actualizada</p>
            }
            @if (ViewBag.Mensaje != null)
            {
                <p class="alert alert-danger">@ViewBag.Mensaje</p>
            }
        </div>
      

    </div>
    @*<div class="form-group" hidden>
        <label class="form-label fw-bold">idUsuario:</label> <br />
        @Html.TextBoxFor(a => a.idUsuario, new { @class = "form-control" })
    </div>
    <div class="form-group" hidden>
        <label class="form-label fw-bold">nombre:</label> <br />
        @Html.TextBoxFor(a => a.nombre, new { @class = "form-control" })
    </div>
    <div class="form-group" hidden>
        <label class="form-label fw-bold">idUsuario:</label> <br />
        @Html.TextBoxFor(a => a.apellido2, new { @class = "form-control" })
    </div>
    <div class="form-group" hidden>
        <label class="form-label fw-bold">idUsuario:</label> <br />
        @Html.TextBoxFor(a => a.apellido1, new { @class = "form-control" })
    </div>
    <div class="form-group" hidden>
        <label class="form-label fw-bold">e:</label> <br />
        @Html.TextBoxFor(a => a.email, new { @class = "form-control" })
    </div>
    <div class="form-group" hidden>
        <label class="form-label fw-bold">idUsuario:</label> <br />
        @Html.TextBoxFor(a => a.isoIdioma, new { @class = "form-control" })
    </div>*@
    @*<legend>Introduzca las credenciales del usuario administrador</legend>*@

  

}